{% extends "layout.html" %} 

{% block content %} 
<div class="row">
  <!-- scroll -->
  <div class="col-3 overflow-auto shadow p-3 mb-5 bg-white" style="height: 100vh;border-radius: 15px;">
      <div class="">
          <div id="list-tab" role="tablist" class="list-group list-group-flush">
              <a class="list-group-item list-group-item-action dropdown-toggle" id="list-profile-list" data-toggle="collapse" href="#listex" role="tab" aria-controls="profile" aria-selected="false" aria-expanded="false">Internet</a>
              <ul class="collapse list-unstyled" id="listex">
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Cras justo odio
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Dapibus ac facilisis in
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Morbi leo risus
                      </button>
                  </li>
              </ul>
              <a class="list-group-item list-group-item-action dropdown-toggle" id="list-profile-list" data-toggle="collapse" href="#listex1" role="tab" aria-controls="profile" aria-selected="false" aria-expanded="false">Telefonia</a>
              <ul class="collapse list-unstyled" id="listex1">
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Cras justo odio
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Dapibus ac facilisis in
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Morbi leo risus
                      </button>
                  </li>
              </ul>
              <a class="list-group-item list-group-item-action dropdown-toggle" id="list-profile-list" data-toggle="collapse" href="#listex2" role="tab" aria-controls="profile" aria-selected="false" aria-expanded="false">red celular</a>
              <ul class="collapse list-unstyled" id="listex2">
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Cras justo odio
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Dapibus ac facilisis in
                      </button>
                  </li>
                  <li>
                      <button type="button" class="list-group-item list-group-item-action">
                          <img src="static/img/bc.png" alt="img not found" style="height: 50px; width: 100px; margin-right: 10px">
                          Morbi leo risus
                      </button>
                  </li>
              </ul>
          </div>
      </div>
  </div>
  <!-- pestañas -->
  <div class="col-9">
      <ul class="nav nav-tabs" id="myTab" role="tablist" style="background-color: white;border-top-right-radius: 15px;">
          <li class="nav-item" role="presentation">
              <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Info</a>
          </li>
          <li class="nav-item" role="presentation">
              <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Facturas</a>
          </li>
          <li class="nav-item" role="presentation">
              <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Contacto</a>
          </li>
      </ul>
      <!-- contenido de pestañas -->
      <div class="tab-content" id="myTabContent" style="background-color: rgba(255,255,255,0.6);height: 100vh;border-radius: 0 0 15px 15px;padding-top: 20px;padding-left: 30px;padding-right: 30px;">
          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="row">
              <div id="imgprov" class="column float-left">
              <img src="static/img/bc.png" alt="image not found" style="height: 150px;width: 250px;">
              <h3>nombre proveedor</h3>
            </div>
              <div class="float-right column" style="text-align: right;">
                <sup>gasto mensual:</sup>
                <h1 style="color: green; font-size: 75px;">$1500.00</h1>
              </div>
            </div>
             
              <div class="row">
                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas id semper est. Nullam interdum arcu nulla, a faucibus arcu aliquet id. Nam sollicitudin ligula et tortor pulvinar accumsan. Pellentesque sit amet odio quis diam molestie accumsan nec id mi. Nunc ac augue pellentesque, rutrum velit at, pulvinar quam. Fusce nec magna libero. Aliquam posuere, velit ac lacinia lacinia, risus libero mattis nibh, et dignissim nulla nulla vitae dui. Aenean justo mauris, accumsan vel pharetra eu, iaculis sed purus.

Pellentesque auctor faucibus sapien quis placerat. Curabitur pretium leo nec eleifend lobortis. Aliquam nec condimentum elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas mauris justo, euismod nec orci vel, placerat egestas arcu. Sed blandit efficitur rhoncus. Cras fringilla, sapien a finibus euismod, nibh ex efficitur neque, nec ornare orci purus ultrices mi. Suspendisse non scelerisque lacus. Aenean vel nisi blandit, convallis nisl in, gravida dui. 
              </div>
          </div>
          <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <div class="row row-cols-1 row-cols-md-2">
<div class="col mb-4">
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
      <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
    </div>
  </div>
</div>
<div class="col mb-4">
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
      <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
    </div>
  </div>
</div>
<div class="col mb-4">
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
      <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
    </div>
  </div>
</div>
<div class="col mb-4">
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
      <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
    </div>
  </div>
</div>
</div>
          </div>
          <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">info del contacto</div>
      </div>
  </div>
</div>

<button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#userModal">
    <i class="fa fa-plus"></i>
    Nuevo Servicio
</button>
<hr>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col" height: min-content;>#</th>
      <th scope="col">Nombre</th>
      <th scope="col">Telefono</th>
      <th scope="col">Correo </th>
      <th scope="col">Sucursal</th>
      <th scope="col">Rol</th>
      <th scope="col">Opciones</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users%}
    <tr>      
      <td>{{ user.id }}</td>
      <td>{{ user.name}}</td>  
      <td>{{ user.phone}}</td> 
      <td>{{ user.email}}</td>  
      <td>{{ user.branch_name}}</td>  
      <td>{{ user.rol_name}}</td> 
      <td>
          
        <button type="button" class="btn btn-sm btn-warning" data-toggle="modal" data-target="#userEModal{{loop.index}}">
            <i class="fa fa-edit"></i>
          </button>

          <form action="{{ url_for('.removeuser')}}" method="post">
            <input type="hidden" name="user_id" value="{{user.id}}">
            <button type="submit" class="btn btn-sm btn-danger">
                <i class="fa fa-trash"></i>
            </button>
          </form>
          
      </td>
    </tr>

    <div class="modal fade" id="userEModal{{loop.index}}" tabindex="-1" role="dialog" aria-labelledby="userEModal{{loop.index}}" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="userEModal{{loop.index}}">Actualizar Usuario</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form id="clients{{loop.index}}" name="clients{{loop.index}}" action="{{ url_for('.updateuser') }}" method="POST">
                    <input type="hidden" name="user_id" value="{{user.id}}">
                    <div class="form-group">
                      <label for="exampleInputEmail1">Nombre</label>
                      <input value="{{user.name}}" type="text" name="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Nombre">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Telefono</label>
                        <input  value="{{ user.phone}}" type="text" name="phone" class="form-control" id="phone" aria-describedby="emailHelp" placeholder="Telefono">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Correo</label>
                        <input type="email" value="{{user.email}}" name="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Email">
                    </div>
                    <div class="form-group">
                      <label for="exampleInputPassword1">Contraseña</label>
                      <input type="password" value="{{user.password}}" name="password" class="form-control" id="password" placeholder="Contraseña...">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Sucursal</label>
                        <input value="{{user.branch_name}}" readonly disabled type="text" name="branch_office" class="form-control" id="branch" aria-describedby="emailHelp" placeholder="Sucursal">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Rol</label>
                        <select name="rol" id="rol" class="form-control">

                            {% if user.rol == 0 %}
                            <option selected value="0">SAIT ADMIN</option>
                            <option value="1">CLIENTE ADMIN</option>
                            <option value="2">CLIENTE ESTANDAR</option>                                    
                            {% endif %}

                            {% if user.rol == 1 %}
                            <option value="0">SAIT ADMIN</option>
                            <option selected  value="1">CLIENTE ADMIN</option>
                            <option value="2">CLIENTE ESTANDAR</option>                                    
                            {% endif %}

                            {% if user.rol == 2 %}
                            <option  value="0">SAIT ADMIN</option>
                            <option value="1">CLIENTE ADMIN</option>
                            <option selected  value="2">CLIENTE ESTANDAR</option>                                    
                            {% endif %}

                            
                        </select>
                    </div>                
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
              <button type="submit" form="clients{{loop.index}}" class="btn btn-primary">Actualizar</button>
            </div>
          </div>
        </div>
      </div>

    {% endfor%}    
  </tbody>
</table>
<!--  -->

  <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userModal">Nuevo Usuario</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form id="clients" name="clients" action="{{ url_for('.users') }}" method="POST">
                <div class="form-group">
                  <label for="exampleInputEmail1">Nombre</label>
                  <input type="text" name="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Nombre">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Telefono</label>
                    <input type="text" name="phone" class="form-control" id="phone" aria-describedby="emailHelp" placeholder="Telefono">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Correo</label>
                    <input type="email" name="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Email">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Contraseña</label>
                  <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña...">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Sucursal</label>
                    <input type="text" name="branch_office" class="form-control" id="branch" aria-describedby="emailHelp" placeholder="Sucursal">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Rol</label>
                    <select name="rol" id="rol" class="form-control">
                        <option value="0">SAIT ADMIN</option>
                        <option value="1">CLIENTE ADMIN</option>
                        <option value="2">CLIENTE ESTANDAR</option>
                    </select>
                </div>                
              </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="submit" form="clients" class="btn btn-primary">Guardar</button>
        </div>
      </div>
    </div>
  </div>


<div class="modal fade" id="userEModal" tabindex="-1" role="dialog" aria-labelledby="userEModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userEModal">Actualizar Usuario</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form id="clients" name="clients" action="{{ url_for('.users') }}" method="POST">
                <div class="form-group">
                  <label for="exampleInputEmail1">Nombre</label>
                  <input type="text" name="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Nombre">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Telefono</label>
                    <input type="text" name="phone" class="form-control" id="phone" aria-describedby="emailHelp" placeholder="Telefono">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Correo</label>
                    <input type="email" name="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Email">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Contraseña</label>
                  <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña...">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Sucursal</label>
                    <input readonly disabled type="text" name="branch_office" class="form-control" id="branch" aria-describedby="emailHelp" placeholder="Sucursal">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Rol</label>
                    <select name="rol" id="rol" class="form-control">
                        <option value="0">SAIT ADMIN</option>
                        <option value="1">CLIENTE ADMIN</option>
                        <option value="2">CLIENTE ESTANDAR</option>
                    </select>
                </div>                
              </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="submit" form="clients" class="btn btn-primary">Actualizar</button>
        </div>
      </div>
    </div>
  </div>

  <script>
      function update(data) {
          
      }
  </script>
{% endblock %}